drop schema IF EXISTS register_schema CASCADE;

CREATE SCHEMA IF NOT EXISTS register_schema;
SET search_path TO register_schema;

DROP TABLE IF EXISTS REGISTER CASCADE;

DROP TABLE IF EXISTS PERSON CASCADE;

CREATE TABLE REGISTER (
    ID INTEGER NOT NULL,
    USER_NAME VARCHAR(50) NOT NULL,
    PASSWORD VARCHAR(50) NOT NULL
);

CREATE TABLE PERSON (
    ID INTEGER NOT NULL,
    FIRST_NAME VARCHAR(50) NOT NULL,
    LAST_NAME VARCHAR(50) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL,
    PASSWORD VARCHAR(50) NOT NULL
);

CREATE INDEX IXFK_REGISTRATION
ON REGISTER (USER_NAME);

ALTER TABLE REGISTER ADD CONSTRAINT PK_REGISTER
PRIMARY KEY (ID);

ALTER TABLE PERSON ADD CONSTRAINT PK_PERSON
PRIMARY KEY (ID);

CREATE SEQUENCE registerid start 1;

